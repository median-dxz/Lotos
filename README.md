# Lotos

loto，意为一种莲花，也有谐音photo的意思。

QT课设项目，是一款windows平台下对（第一阶段，smms）图床进行桌面端操作的管理软件。

启发项目[PicGo](https://github.com/PicGo/PicGo-Core)。

# 开发规范

[toc]

## 1. 命名规范

### 1.1 变量

#### 1.1.1 临时变量

用作数据处理运算的临时变量，采用**全小写字母**，意义非常简单时可以使用首字母简写，否则取前几个字母，如果需要确切含义的变量，采用全拼且中间用下划线隔开。

由于是局部变量，在不确定变量命名长度时请自行把握，但请配合注释保证能读懂变量含义。

例子：

```cpp
int i; //循环变量
string tmp,t,str,s; //临时字符串变量
vector<int> a;//临时数组容器
int res; //返回值
vector<int> find_results;//搜索结果的数组
```

#### 1.1.2 模块内变量

**类成员和参数，函数与函数变量**

**驼峰命名，全拼**，首单词首字母小写，其他单词首字母大写。

参数命名应尽量简洁，在保证意思的情况下使用一到二个单词。

### 1.2 常量与宏

枚举，const，宏定义，全部采用**全拼大写，中间用下划线隔开**

### 1.3 类，命名空间

**驼峰命名，全拼**，全部首字母大写

### 1.4 其他

如资源文件等，不确定时可以看看工程中已有的项目是采用什么规范的，默认驼峰命名，全拼，全部首字母大写。类文件和对应cpp用小写

## 2. 功能逻辑

界面模块：包含一个主GUI，还有相应的菜单

上传选项卡：负责上传图片的相关操作，如进行图片的选择，修改，如果成功可以进行连接复制与格式化

图片集选项卡：显示所有上传图片的缩略，点击可以查看大图与具体信息，可以分组，可以筛选

可以区分登录用户上传与非登录上传，可以主动添加不是由本软件上传的图片，可以删除图片，复制链接，可以批量选择

图床设置选项卡：设置图床和连接的相关部分

设置：设置软件信息



功能模块

软件管理：设置的读写，软件信息的确认，ui提示与帮助，软件信息的处理，拖放处理，剪贴板处理，事件处理

用户信息管理：用户上传图片的信息的管理

图片处理：进行图片的简单操作，例如裁剪压缩与缩放

图床交互：调用图床接口，处理返回信息



通用处理模块

json处理：所有的数据都是用json处理

网路处理：实现get与post方法，实现sync与async方法，对连接进行处理

URL字符串处理：对URL字符串进行格式化

图片处理：调用外部库，实现信息读取

文件处理：文件路径与文本或二进制读取



| 目录        | 描述     |
| :---------- | -------- |
| src         | 源代码   |
| third-party | 第三方库 |

## 3.git协作约定

hxy 与 zjb 创建分支 hxy/dev，后续所有开发在各自分支上完成，dxz将直接在develop分支上进行开发。

阶段目标完成后，dxz会将成员dev分支合并到develop分支上并进行审核，之后成员**必须**先将develop分支的更新pull到自己维护的分支上再进行后续开发。

如果有资源文件的更新，也需要进行pull dev操作。

因此建议每天开始码代码前，都先进行git fetch 操作查看更新，如果有不是因为阶段工作合并导致的冲突，就进行merge。

当模块完成并测试通过后，develop分支内容将添加到master分支上。

最后将由master分支发布release。



所有commit均要以<scope>:开头

可选的有refactor，featrue，fix（开发阶段主要就这三个），不懂就问一下



## 4.开发流程

在这个git仓库的[project](https://github.com/users/median-dxz/projects/)板块进行check。

## 5.其他

所有cpp都要有对应的h，所有声明全部写在h里，可以使用命名空间，但是h里只能声明宏，类，函数，绝对不可以写任何具体实现！

软件ui定为扁平风，简洁美观

数据读写目前不考虑压缩，直接进行文件流读写，存储格式使用**JSON**